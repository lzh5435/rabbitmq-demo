package test.liuzehua.rabbitmqdemo.workqueue;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.MessageProperties;import org.junit.jupiter.api.Test;import test.liuzehua.rabbitmqdemo.utils.ConnectionFactoryUtil;import java.io.IOException;/** * @author liuzehua * 2020/6/6 **/public class Providers {    @Test    void testworkprovider() throws IOException {        Connection connection = ConnectionFactoryUtil.getConnection();        Channel channel = connection.createChannel();        channel.queueDeclare("work",true,false,false,null);        for (int i = 1; i < 21; i++) {            channel.basicPublish("","work",MessageProperties.PERSISTENT_TEXT_PLAIN,("hello work queue ++++"+ i).getBytes());        }        ConnectionFactoryUtil.close(channel,connection);    }}