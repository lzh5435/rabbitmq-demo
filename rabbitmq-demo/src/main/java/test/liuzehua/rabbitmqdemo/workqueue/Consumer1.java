package test.liuzehua.rabbitmqdemo.workqueue;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import test.liuzehua.rabbitmqdemo.utils.ConnectionFactoryUtil;import java.io.IOException;/** * @author liuzehua * 2020/6/6 **/public class Consumer1 {    public static void main(String[] args) throws IOException {        Connection connection = ConnectionFactoryUtil.getConnection();        Channel channel = connection.createChannel();//        channel.queueDeclare("work",true,false,false,null);        //每次消费的个数        channel.basicQos(1);        // 关闭自动确认机制        channel.basicConsume("work",false,(consumerTag, delivery) -> {            String message = new String(delivery.getBody(), "UTF-8");            System.out.println(" consumer1 Received '" + message + "'");            //手动确认   关闭多条消息确认            channel.basicAck(delivery.getEnvelope().getDeliveryTag(),false);        },consumerTag ->{});    }}